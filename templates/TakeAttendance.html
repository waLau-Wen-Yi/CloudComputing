<!DOCTYPE html>
<html>

<head>
	<title>Take Attendance Page</title>
    <style>
        body {
            background-image: url('https://flevix.com/wp-content/uploads/2019/12/Live-Wave-Background.svg');
            margin-top: 0px;
            background-position: center;
            background-size: cover;
        }
    
        .button-style {
            background: #e1e1e1;
            height: 45px;
            width: 250px;
            color: black;
            font-weight: 600;
            font-family: monospace;
        }
    
        #main-menu {
            background: #f8a0a0;
        }
    
        .text {
            font-size: x-large;
        }
    </style>
</head>

<body>
	<center style="margin:0 auto;margin-top:10%;">
		<h1 style="background-color: black;text-align:center;">
			<font style="
	font-family: monospace;
	"><span style="color: #ffffff; font-size: xxx-large;"><span><strong><span>Take Attendance Page</span></strong></span></span></font>
		</h1>

			<body bgcolor="lightgrey">

				<form action="/getempname" autocomplete="on" method="GET" enctype="multipart/form-data">

					Employee Id: <br> <input style="height:25px;font-size:14pt;color:grey;" type="text"
						name="emp_id"><br><br>
					<!-- 
					EmployeeName: <br>
					<p>{{name}}</p><br> -->

					Current Time: <br>
					<div id="time"></div><br />

					<!-- <button type="submit"
						style="background: grey; height: 45px; width: 200px; color: white; size: 5; font:oblique;">Get
						Employee Information</button><br /><br /> -->

					<button formaction="/addcheckin" type="submit" name="checkin"
					class="button-style text">Check
						In</button><br /><br />

					<button formaction="/addcheckout" type="submit" text="Check Out" name="checkout"
					class="button-style text">Check
						Out</button><br /><br />

					<button formaction="/takeattd" type="submit" text="Check Out" 
					class="button-style text" id="main-menu">Go Back</button>

				</form>

			</body>
			<script>
				function display_ct7() {
					var x = new Date()
					var ampm = x.getHours() >= 12 ? ' PM' : ' AM';
					hours = x.getHours() % 12;
					hours = hours ? hours : 12;
					hours = hours.toString().length == 1 ? 0 + hours.toString() : hours;

					var minutes = x.getMinutes().toString()
					minutes = minutes.length == 1 ? 0 + minutes : minutes;

					var seconds = x.getSeconds().toString()
					seconds = seconds.length == 1 ? 0 + seconds : seconds;

					var month = (x.getMonth() + 1).toString();
					month = month.length == 1 ? 0 + month : month;

					var dt = x.getDate().toString();
					dt = dt.length == 1 ? 0 + dt : dt;

					var x1 = month + "/" + dt + "/" + x.getFullYear();
					x1 = x1 + " - " + hours + ":" + minutes + ":" + seconds + " " + ampm;
					document.getElementById('time').innerHTML = x1;
					display_c7();
				}
				function display_c7() {
					var refresh = 1000; // Refresh rate in milli seconds
					mytime = setTimeout('display_ct7()', refresh)
				}

				//@@Error msg
				function displayErrorMsg(){
					isExist = '{{isExist}}';
					var msg = "";
					if(isExist == 1){
						msg = "You have already checked in."
						alert(msg);
					}
					else if(isExist == 2){
						msg = "Please try again."
						alert(msg);
					}
					else if(isExist == 3){
						msg = "Incorrect employee id. Please try again."
						alert(msg);
					}
					else if(isExist == 4){
						msg = "Check in successfully. "
						alert(msg);
					}
					else if(isExist == 11){
						msg = "You havent checked in."
						alert(msg);
					}
					else if(isExist == 14){
						msg = "Check out successfully. "
						alert(msg);
					}
				}

				//@@@Method call 
				display_c7()
				displayErrorMsg()
			</script>
	</center>
</body>